# Submarine Maneuevers
#### P5JS Online Editor Link:  (https://editor.p5js.org/Submarine123/full/s6NzYAwOI) <br><br>
<div align="center"> <h3>Description:</h3></div>
This project is a game created using the P5.JS framework for JavaScript. It features that seeks to dive downwards through an endless cave with the goal to achieve the highest score possible.

The game is mostly coded in an object oriented approach.

**Some Literature Review** <br>
Lunar Lander was a game that we took inspiration from at first. We wanted to have a submarine that went down to the bottom of a cave to find some treasure, once at the bottom of the cage you had to land the submarine on the ocean floor. Much like in the lunar lander where you land a spaceship on the moon. We took physics from “Lunar Landar” which is in space, and realized they are similar to underwater (in our game). So in our game, there is gravity dragging the submarine down, and you can thrust the submarine 360 degrees with ‘WASD’ or arrow keys to avoid the obstacles in the cave. Once we started developing our game we made the decision to have an infinitely long game similar to “Subway Surfers” or “Jetpack Joyride” and be able to achieve a high score. Similar to other infinitely long games, we wanted to add a coin system. These coins were to be placed in random spots in the cave, in hard and easy places. 

The player, or the submarine collides with the coin, the player gets the coin and with it, 10 extra points are added to their final score. The goal of the game is to get a high score, the player does this by going the furthest down to the cave, and collecting as many coins as possible, both of which will get you a higher score. Apart from being a game that has similar physics to “Lunar Landar” as it goes infinitely long like “Subway Surfers”, or “Jetpack Joyride” we we also focused on the aspects of meaningful play in our game. 

We wanted the player experience to be autonomous or “the idea that the player can pursue their own goals within the structure of a game” as described by Peter Mawhorter in “Towards a Theory of Choice Poetics” on page 6. The goal is to get a high score. We are all also power players, so we wanted our game to cater to the game players who also like power play. Power play is maximizing outcomes and statistics of the game (Mawhorter Page 4). Our game caters to this because the main goal in the game is to get a high score, which will maximize the outcome of the game.

**Implementation**<br>
At a high level, our components are greatly interrelated. At setup, all of the objects are created (buttons, terrain (first 125 pieces), menu-fish, game-fish, and coins). In the draw function, the game checks the state. The default state is the main menu, where the button objects are drawn and updated. If the mouse moves, bubble objects are created, updated, and drawn, then eventually fade. If the buttons are clicked, the game goes to different sub-states that draw each individual menu with the text/title/back button, etc. Also drawn in the menus is a gradient background and the menu-fish objects that are drawn and updated. Once the player clicks the start button, the game state changes to START and the terrain, sub, coins, and game-fish are drawn on the screen while the buttons and menu-fish disappear. In the START state, where the game is actually played, kinematics come into play, with gravity and the sub-movement coming into play, translating the surrounding terrain, fish, and coins vertically to make the player think that they are going deeper (translating the terrain to keep the player locked in the middle of the screen). As this happens, multiple functions come into play. The most important is kinematics, which according to gravity, water resistance, and thrust moves all of the objects’ positions depending on what is happening in the game. Also, collision detection and resolution are going on in the background. The collision for the submarine uses 5 different points drawn throughout the sub to fill its whole volume, checking if the distance between each point and the terrain or coins is less than the hitbox(circle) radius. If it is, then a collision is detected and resolved. 

The most important object/function of the game is the terrain. The terrain works by generating multiple quadrilaterals. 2 of the points are on the screen, making up the visible terrain, while the other 2 points are at the same y-level and x-values that are off-screen. Each terrain that is generated uses the previous terrain’s last vertex as the point for the first vertex of the new terrain. The variation in the terrain is caused by moving the 2nd visible vertex a random amount in the x-direction (decided by a move variable). The left side of the terrain is based on the right terrain, flipping the terrain across the y-axis and translating the quadrilateral vertex by a certain range (+/- some random amount to cause variation). As the terrain progresses, it adds/subtracts to a total move value that allows the terrain to move left and right overall. When a terrain is above the screen, that terrain object is deleted and a new one is added to the bottom. Terrain collision works by checking the distance between each vertex and the hitbox(circle) of the submarine. Thrust from the submarine converts the rotation of the sub into x and y components and translates all objects by that amount in each direction. Bubbles are created, updated, and drawn when the thrust button is pressed. The score function works by using the amount that the terrain has moved down and adding 10 for each coin collected. 

The biggest issue that came through the design of the game involved the generation of the terrain. There was a major issue that caused the terrain to not mesh correctly when deleting and adding terrain after the first 125 terrain objects that were created in setup. This would lead to gaps in the terrain, movements of the terrain in the x-direction that would cause impossible terrain, and many many more issues. Eventually, the issues were ironed out and the impossible terrain translation that lasted for a few weeks was fixed by simply moving the kinematics function right before the terrain generation. Besides this major problem, there were some smaller issues regarding collision and fish generation, but everything else went relatively smoothly with some work.


**Future Plans**<br>
As we look to the future of our game, we want to add another level of challenge and keep players interested. The best way to do this is by making more levels. These levels would bring a whole new variety of elements to our game as we can further develop the mechanics, aesthetics, and dynamics of each individual level. These levels would start out as the easiest level and progress until you reach the hardest level similarly to the way geometry dash was created. Along with difficulty being changed, we could also implement a story of people on the submarine traveling to different worlds facing new challenges and completely new aesthetics. Another option for our game’s future is to create a race mode that saves your high score on the attempt so that other future players can try and beat it. This would bring competitiveness even if the game isn’t available online, where players could play against each other in real-time. Our final idea is to create a customizable aspect of the submarine that only unlocks after a certain amount of time is played. These customizations would include the speed of the sub, size, and even shape. This rewards players who play our game for a good amount of time and also brings creativity for players to personalize their game.
